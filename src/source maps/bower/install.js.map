{"version":3,"sources":["bower/install.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;sBAOC,QAAQ;;;;AAJtB,IAAI,cAAc,GAAG,OAAO,CAAC,uBAAuB,CAAC,CAAC;AACtD,IAAI,OAAO,GAAG,OAAO,CAAC,wBAAwB,CAAC,CAAC;AAChD,IAAI,OAAO,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC,OAAO,CAAC;AAC1D,IAAI,aAAa,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;;AAGxC,SAAS,OAAO,CAAC,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,MAAM,EAAE;AACnD,MAAI,OAAO,CAAC;AACZ,MAAI,YAAY,CAAC;AACjB,MAAI,OAAO,CAAC;;AAEZ,SAAO,GAAG,OAAO,IAAI,EAAE,CAAC;AACxB,QAAM,GAAG,aAAa,CAAC,MAAM,CAAC,CAAC;AAC/B,MAAI,OAAO,CAAC,IAAI,KAAK,SAAS,EAAE;AAC9B,WAAO,CAAC,IAAI,GAAG,MAAM,CAAC,WAAW,CAAC;GACnC;AACD,SAAO,GAAG,IAAI,OAAO,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;AACtC,SAAO,GAAG,IAAI,OAAO,CAAC,MAAM,CAAC,CAAC;;;AAG9B,WAAS,GAAG,SAAS,IAAI,EAAE,CAAC;AAC5B,MAAI,oBAAE,OAAO,CAAC,SAAS,CAAC,EACtB,YAAY,GAAG,SAAS,CAAC,GAAG,CAAC,UAAU,QAAQ,EAAE;AAC/C,WAAO,cAAc,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;GAC3C,CAAC,CAAC;AACL,SAAO,CAAC,wBAAwB,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;AAC1D,SAAO,CAAC,GAAG,CACT,OAAO,CAAC,OAAO,CAAC,YAAY,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC,CAAC;AAClD,SAAO,OAAO,CAAC,OAAO,CAAC,YAAY,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;CACvD;;;;AAID,OAAO,CAAC,WAAW,GAAG,UAAU,IAAI,EAAE;AACpC,MAAI,GAAG,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC;;AAEjC,MAAI,OAAO,GAAG,GAAG,CAAC,WAAW,CAAC;AAC5B,kBAAc,EAAE;AACd,UAAI,EAAE,OAAO;AACb,eAAS,EAAE,GAAG;KACf;AACD,gBAAY,EAAE;AACZ,UAAI,EAAE,OAAO;AACb,eAAS,EAAE,GAAG;KACf;AACD,UAAM,EAAE;AACN,UAAI,EAAE,OAAO;AACb,eAAS,EAAE,GAAG;KACf;AACD,cAAU,EAAE;AACV,UAAI,EAAE,OAAO;AACb,eAAS,EAAE,GAAG;KACf;AACD,gBAAY,EAAE;AACZ,UAAI,EAAE,OAAO;AACb,eAAS,EAAE,GAAG;KACf;GACF,EAAE,IAAI,CAAC,CAAC;;AAET,MAAI,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;;AAE5C,SAAO,OAAO,CAAC,IAAI,CAAC;;AAEpB,SAAO,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;CAC5B,CAAC;;AAEF,MAAM,CAAC,OAAO,GAAG,OAAO,CAAC","file":"bower/install.js","sourcesContent":["'use strict';\n\n// Override the install command in bower\nvar endpointParser = require('bower-endpoint-parser');\nvar Project = require('bower/lib/core/Project');\nvar Tracker = require('bower/lib/util/analytics').Tracker;\nvar defaultConfig = require('./config');\nimport _ from 'lodash';\n\nfunction install(logger, endpoints, options, config) {\n  var project;\n  var decEndpoints;\n  var tracker;\n\n  options = options || {};\n  config = defaultConfig(config);\n  if (options.save === undefined) {\n    options.save = config.defaultSave;\n  }\n  project = new Project(config, logger);\n  tracker = new Tracker(config);\n\n  // Convert endpoints to decomposed endpoints\n  endpoints = endpoints || [];\n  if (_.isArray(endpoints))\n    decEndpoints = endpoints.map(function (endpoint) {\n      return endpointParser.decompose(endpoint);\n    });\n  tracker.trackDecomposedEndpoints('install', decEndpoints);\n  console.log(\n    project.install(decEndpoints, options, config));\n  return project.install(decEndpoints, options, config);\n}\n\n// -------------------\n\ninstall.readOptions = function (argv) {\n  var cli = require('../util/cli');\n\n  var options = cli.readOptions({\n    'force-latest': {\n      type: Boolean,\n      shorthand: 'F'\n    },\n    'production': {\n      type: Boolean,\n      shorthand: 'p'\n    },\n    'save': {\n      type: Boolean,\n      shorthand: 'S'\n    },\n    'save-dev': {\n      type: Boolean,\n      shorthand: 'D'\n    },\n    'save-exact': {\n      type: Boolean,\n      shorthand: 'E'\n    }\n  }, argv);\n\n  var packages = options.argv.remain.slice(1);\n\n  delete options.argv;\n\n  return [packages, options];\n};\n\nmodule.exports = install;"],"sourceRoot":"/source/"}